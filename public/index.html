<!DOCTYPE html>
<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.9/angular.min.js">
  </script>
</head>
<body ng-app="myeventsApp">
  <div ng-controller="EventsController" class="container">
    <h1>Events</h1>
    <hr/>
    <div ng-repeat="event in events" class="col-md-6">
      <h4>{{event.codigo}}</h4>
      <p>{{event.nombre}}</p>
    </div>
  </div>
  <div ng-app="myeventsApp" ng-controller="formCtrl">
  <form novalidate>
    First Name:<br>
    <input type="text" ng-model="user.firstName"><br>
    Last Name:<br>
    <input type="text" ng-model="user.lastName">
    <br><br>
    <button ng-click="reset()">RESET</button>
  </form>
  <p>form = {{user}}</p>
  <p>master = {{master}}</p>
</div>	
</body>
<script>
var myevents = angular.module('myeventsApp', []);

myevents.controller("EventsController", function ($scope, $http) {
    $http.get('http://localhost:3000/home')
        .success(function (data) {
            $scope.events = data;
        });
});

myevents.controller('formCtrl', function($scope, $http) {
    $scope.reset = function() {
    	console.log($scope.user.firstName);
    	console.log($scope.user.lastName);
        $http.get('http://localhost:3000/insert/'+$scope.user.firstName+'/'+$scope.user.lastName)
        .success(function (data) {
        });
    };
});
</script>

</html>
 
